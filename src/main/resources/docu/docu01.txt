1. Get Values from Keycloak


1.1 Token

http://keycloak:8080/auth/realms/Pilger/protocol/openid-connect/token
{
    "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJnRVAzOXQzQlpNbHhxMnhxZnhBMXkzVnMtQzlmejRQdEUtRE1FUkU5aXVFIn0.eyJqdGkiOiIyMTZjODZmYS1mNGU2LTRhZGItOGI0OS04MDllNDY3MWIyOWIiLCJleHAiOjE1NTIzMTk3NDcsIm5iZiI6MCwiaWF0IjoxNTUyMzE5NDQ3LCJpc3MiOiJodHRwOi8va2V5Y2xvYWs6ODA4MC9hdXRoL3JlYWxtcy9QaWxnZXIiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiYmI5YzMxM2MtMzdiNC00N2QzLThlY2MtMDY4YWE4NDEzMzAwIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiUGlsZ2VyQXBwIiwiYXV0aF90aW1lIjowLCJzZXNzaW9uX3N0YXRlIjoiYjI3MmQ4NmQtYzdmNi00NWMyLWE3NDAtZDI5MmM5NjRkMzYyIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyIiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIlBPV0VSX1VTRVIiLCJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJwcm9maWxlIGVtYWlsIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJoYWdsbyIsImVtYWlsIjoiaC5nLmdsb2Vja2xlckBnbXguZGUifQ.Cc8uC9323tu4H2g4YXBBZX_HKlQkEVvWK3jZwsXKrqjCApNRZDbGIRyibzYcW-aeL8SwDXvQvEgad5SEXSTP1KBiV4SL2yH6p9hPg16YrGkJ1hM1qscUqLxq6CalJJOTc5b6g-eB_uCl7WoYHqkGP4fr1-s_Z88E1CILK6afAgazXwQbEpINfAaZfKSz0NUiHAYRBHXucwghnWmusPjYe69g9RhHPwMx_FVvzE5E3xDmdFjKHYGPEhHfu8H5DygdDYF39zEhDIPiNBf4RQQFoBbdTOYVgOgXG46HUNGhidYn3lOOqtn2Qtvcm4WGRG5j0s3A83Fc3kkKwe1Ug2uDuw",
    "expires_in": 300,
    "refresh_expires_in": 1800,
    "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJiZjJmNjAxOS04YTI3LTQwNDItOTZhYy1hMmY3YWU3Yzc0ZjAifQ.eyJqdGkiOiJiOTllZDM3OS03NzI2LTQzNzktYjEzYS0zNWJhMWI5MDBhZmMiLCJleHAiOjE1NTIzMjEyNDcsIm5iZiI6MCwiaWF0IjoxNTUyMzE5NDQ3LCJpc3MiOiJodHRwOi8va2V5Y2xvYWs6ODA4MC9hdXRoL3JlYWxtcy9QaWxnZXIiLCJhdWQiOiJodHRwOi8va2V5Y2xvYWs6ODA4MC9hdXRoL3JlYWxtcy9QaWxnZXIiLCJzdWIiOiJiYjljMzEzYy0zN2I0LTQ3ZDMtOGVjYy0wNjhhYTg0MTMzMDAiLCJ0eXAiOiJSZWZyZXNoIiwiYXpwIjoiUGlsZ2VyQXBwIiwiYXV0aF90aW1lIjowLCJzZXNzaW9uX3N0YXRlIjoiYjI3MmQ4NmQtYzdmNi00NWMyLWE3NDAtZDI5MmM5NjRkMzYyIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIlBPV0VSX1VTRVIiLCJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJwcm9maWxlIGVtYWlsIn0.fnIYFST8RQPvbSBz8Bqj_j1yCQhgCvB1G6u2NLtK8ck",
    "token_type": "bearer",
    "not-before-policy": 0,
    "session_state": "b272d86d-c7f6-45c2-a740-d292c964d362",
    "scope": "profile email"
}


1.2 Public Key

http://localhost:8080/auth/realms/Pilger
{
    "realm": "Pilger",
    "public_key": "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxvqVo8LLbZXCvEfEl5Uw3A0U6Fe/Tx0QU85wXqd0INoLUQMh1YLxJ45dOl1vB/I9P9Z7KjC3rCW3xOmyEVfw+k+ZhaMgcwcwcnhcZw1dJpQ+HYt+aj4OwST3RfZbvYTWzc8+0we4ptNf+/unvxUgaiqaj3FNK02aEA0oEbrjGrW0qBD+hUppmcZ0J80DAXcUOux1FlzTX4NQNXAsUYU0c+qI8UuDZbqXbirEMp35EGkvJJdbI0qVGRXI/R4c0Kn5kiUkqxGUm92X0QxLe9+as28UsyjgGuseNdhjiAURPv3HxMGW8xmxF0+phjFN4DVjM6PbhFna42hsN0kp5R3/3QIDAQAB",
    "token-service": "http://localhost:8080/auth/realms/Pilger/protocol/openid-connect",
    "account-service": "http://localhost:8080/auth/realms/Pilger/account",
    "tokens-not-before": 0
}

***Alt***
http://keycloak:8080/auth/realms/Pilger/protocol/openid-connect/certs
{
    "keys": [
        {
            "kid": "gEP39t3BZMlxq2xqfxA1y3Vs-C9fz4PtE-DMERE9iuE",
            "kty": "RSA",
            "alg": "RS256",
            "use": "sig",
            "n": "xvqVo8LLbZXCvEfEl5Uw3A0U6Fe_Tx0QU85wXqd0INoLUQMh1YLxJ45dOl1vB_I9P9Z7KjC3rCW3xOmyEVfw-k-ZhaMgcwcwcnhcZw1dJpQ-HYt-aj4OwST3RfZbvYTWzc8-0we4ptNf-_unvxUgaiqaj3FNK02aEA0oEbrjGrW0qBD-hUppmcZ0J80DAXcUOux1FlzTX4NQNXAsUYU0c-qI8UuDZbqXbirEMp35EGkvJJdbI0qVGRXI_R4c0Kn5kiUkqxGUm92X0QxLe9-as28UsyjgGuseNdhjiAURPv3HxMGW8xmxF0-phjFN4DVjM6PbhFna42hsN0kp5R3_3Q",
            "e": "AQAB"
        }
    ]
}
***Alt***


1.3 Values

token corresponds to access_token: 
eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJnRVAzOXQzQlpNbHhxMnhxZnhBMXkzVnMtQzlmejRQdEUtRE1FUkU5aXVFIn0.eyJqdGkiOiIyMTZjODZmYS1mNGU2LTRhZGItOGI0OS04MDllNDY3MWIyOWIiLCJleHAiOjE1NTIzMTk3NDcsIm5iZiI6MCwiaWF0IjoxNTUyMzE5NDQ3LCJpc3MiOiJodHRwOi8va2V5Y2xvYWs6ODA4MC9hdXRoL3JlYWxtcy9QaWxnZXIiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiYmI5YzMxM2MtMzdiNC00N2QzLThlY2MtMDY4YWE4NDEzMzAwIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiUGlsZ2VyQXBwIiwiYXV0aF90aW1lIjowLCJzZXNzaW9uX3N0YXRlIjoiYjI3MmQ4NmQtYzdmNi00NWMyLWE3NDAtZDI5MmM5NjRkMzYyIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyIiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIlBPV0VSX1VTRVIiLCJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJwcm9maWxlIGVtYWlsIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJoYWdsbyIsImVtYWlsIjoiaC5nLmdsb2Vja2xlckBnbXguZGUifQ.Cc8uC9323tu4H2g4YXBBZX_HKlQkEVvWK3jZwsXKrqjCApNRZDbGIRyibzYcW-aeL8SwDXvQvEgad5SEXSTP1KBiV4SL2yH6p9hPg16YrGkJ1hM1qscUqLxq6CalJJOTc5b6g-eB_uCl7WoYHqkGP4fr1-s_Z88E1CILK6afAgazXwQbEpINfAaZfKSz0NUiHAYRBHXucwghnWmusPjYe69g9RhHPwMx_FVvzE5E3xDmdFjKHYGPEhHfu8H5DygdDYF39zEhDIPiNBf4RQQFoBbdTOYVgOgXG46HUNGhidYn3lOOqtn2Qtvcm4WGRG5j0s3A83Fc3kkKwe1Ug2uDuw

PublicKey corresponds to n
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxvqVo8LLbZXCvEfEl5Uw3A0U6Fe/Tx0QU85wXqd0INoLUQMh1YLxJ45dOl1vB/I9P9Z7KjC3rCW3xOmyEVfw+k+ZhaMgcwcwcnhcZw1dJpQ+HYt+aj4OwST3RfZbvYTWzc8+0we4ptNf+/unvxUgaiqaj3FNK02aEA0oEbrjGrW0qBD+hUppmcZ0J80DAXcUOux1FlzTX4NQNXAsUYU0c+qI8UuDZbqXbirEMp35EGkvJJdbI0qVGRXI/R4c0Kn5kiUkqxGUm92X0QxLe9+as28UsyjgGuseNdhjiAURPv3HxMGW8xmxF0+phjFN4DVjM6PbhFna42hsN0kp5R3/3QIDAQAB
 
 
1.5 PublicKey im PemFormat
-----BEGIN RSA PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxvqVo8LLbZXCvEfEl5Uw3A0U6Fe/Tx0QU85wXqd0INoLUQMh1YLxJ45dOl1vB/I9P9Z7KjC3rCW3xOmyEVfw+k+ZhaMgcwcwcnhcZw1dJpQ+HYt+aj4OwST3RfZbvYTWzc8+0we4ptNf+/unvxUgaiqaj3FNK02aEA0oEbrjGrW0qBD+hUppmcZ0J80DAXcUOux1FlzTX4NQNXAsUYU0c+qI8UuDZbqXbirEMp35EGkvJJdbI0qVGRXI/R4c0Kn5kiUkqxGUm92X0QxLe9+as28UsyjgGuseNdhjiAURPv3HxMGW8xmxF0+phjFN4DVjM6PbhFna42hsN0kp5R3/3QIDAQAB
-----END RSA PUBLIC KEY-----



2. Token
has 3 by dots separated parts:	header.payload.signature
header & payload are base64url encoded



3. Test
http://localhost:9000/validate/eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJnRVAzOXQzQlpNbHhxMnhxZnhBMXkzVnMtQzlmejRQdEUtRE1FUkU5aXVFIn0.eyJqdGkiOiI5Yzk2OWIzMS02ZjI4LTQyNGQtODU4Mi03Y2NkZDNiMDk5ZjMiLCJleHAiOjE1NTIxMzY4ODgsIm5iZiI6MCwiaWF0IjoxNTUyMTM2NTg4LCJpc3MiOiJodHRwOi8va2V5Y2xvYWs6ODA4MC9hdXRoL3JlYWxtcy9QaWxnZXIiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiYmI5YzMxM2MtMzdiNC00N2QzLThlY2MtMDY4YWE4NDEzMzAwIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiUGlsZ2VyQXBwIiwiYXV0aF90aW1lIjowLCJzZXNzaW9uX3N0YXRlIjoiMjk2YzQwYzEtZjk4ZS00OWRjLTg5ODItMmFiMDBhZDY1M2ExIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyIiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIlBPV0VSX1VTRVIiLCJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJwcm9maWxlIGVtYWlsIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJoYWdsbyIsImVtYWlsIjoiaC5nLmdsb2Vja2xlckBnbXguZGUifQ.HiM0p7xoVB2K2JT-zpX0X20f8OMVLETX2_V_BMWzDhcye1GCerO-eYgTfm04pyW6X2TFb5CsCOvyg1zeQSPztFiCmiWw0415K1ld65kxV377sprIWTs88s7SPOamamav5zX8AOQB_Hmcvj8adXjpv0hkaWP9zwoGYpkPKC-Wi-osORoyqXG2yKOG2-sAfiuztGLrFFFKE8486AQt7jZ1zVgiZWA1jroBgx8uMlCP4_NAAg2si64Gka2mVmqqXtm7fsxYNUsH9QzIcc9073IZ6iQZwU2Fw9eOhfByhOEX0kKMCS_nT8EiN_6PyynDYxcNzJWsrsDQUNfervl9mIQV_Q

 
 
3. PublicKey
base64encoded



 